<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Accepl.AI EPC Project Dashboard</title>
    <script>
        async function getPrediction() {
            let material_cost = document.getElementById("material_cost").value;
            let labor_cost = document.getElementById("labor_cost").value;
            let time_to_complete = document.getElementById("time_to_complete").value;

            const response = await fetch('http://localhost:8000/calculate-roi-tariff/', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    material_cost_per_mw: parseFloat(material_cost),
                    labor_cost_per_mw: parseFloat(labor_cost),
                    time_to_complete: parseFloat(time_to_complete)
                })
            });
            const result = await response.json();
            document.getElementById("result").innerHTML = `
                <h2>Predicted ROI: ${result.roi}%</h2>
                <h2>Predicted Tariff: ₹${result.tariff}/kWh</h2>
            `;
        }
    </script>
</head>
<body>
    <h1>Accepl.AI EPC Project Cost Prediction</h1>
    <label for="material_cost">Material Cost per MW (₹): </label>
    <input type="text" id="material_cost"><br><br>
    <label for="labor_cost">Labor Cost per MW (₹): </label>
    <input type="text" id="labor_cost"><br><br>
    <label for="time_to_complete">Time to Complete (Months): </label>
    <input type="text" id="time_to_complete"><br><br>
    <button onclick="getPrediction()">Get Prediction</button>
    <div id="result"></div>
</body>
</html>
